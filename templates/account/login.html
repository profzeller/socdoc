{% extends "_base.html" %}
{% load socialaccount %}

{% block title %}Sign In{% endblock %}
{% block content %}
<div class="auth-card">
  <h1>Sign in</h1>

  <!-- Primary: Discord -->
  <a href="{% provider_login_url 'discord' process='login' %}" class="btn-discord">Continue with Discord</a>

  <!-- Divider -->
  <div class="auth-divider">
    <div class="line"></div><span>or</span><div class="line"></div>
  </div>

  <!-- Secondary: Email/password (collapsed by default) -->
  <details class="auth-details">
    <summary>Use email/password instead</summary>
    <div class="details-body">
      {% if form.errors %}
        <p class="auth-error">Please check your email or password.</p>
      {% endif %}
      <form method="post" action="{% url 'account_login' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Sign in with email</button>
      </form>
      <p class="auth-help">
        <a href="{% url 'account_reset_password' %}">Forgot your password?</a>
      </p>
    </div>
  </details>

  <p class="auth-foot">
    No account? <a href="{% url 'account_signup' %}">Sign up</a>
  </p>
</div>
{% endblock %}
